# See https://wiki.hypr.land/Configuring/Keywords/
$mainMod = SUPER # Sets "Windows" key as main modifier
$subMod = SUPER
$hyprMod = CTRL+ALT


# My rules for setting new keybinds
# 1. Keybinds modes:
#     a) [HyprMod + Right Hand]    (only Right Hand)
#     b) [subMod + Left Hand]      (Mouse with Left Hand)
# 2. 
# 3. 


bind = $mainMod, Q, exec, $terminal
bind = $mainMod, C, killactive,
# bind = $mainMod, E, exec, $fileManager
bind = $mainMod, V, togglefloating,
bind = $mainMod, Z, fullscreen, 1
bind = $mainMod, F, fullscreen, 0

bind = $hyprMod, UP, exec, ~/.config/hypr/scripts/unminimize.sh
bind = $hyprMod, DOWN, movetoworkspacesilent, special:shadow
# bind = $subMod, N, exec, ~/.config/hypr/unminimize.sh
# bind = $subMod, M, movetoworkspacesilent, special:shadow
bind = $subMod, B, exec, ~/.config/hypr/scripts/randwp.sh
bind = $subMod, G, exec, sh -c 'pkill gammastep || gammastep -O 4200&'   # 4200 even in waybar



bind = ALT, F1, exec, pkill waybar || waybar&
# bind = ALT, F2,
# bind = ALT, F3,
bind = ALT, F4, killactive,
bind = ALT, SPACE, exec, pkill rofi || rofi -show drun
bind = ALT, TAB, cyclenext


# SUB + ARROW KEYS
bind = $subMod, LEFT,  movefocus, l
bind = $subMod, DOWN,  movefocus, d
bind = $subMod, UP,    movefocus, u
bind = $subMod, RIGHT, movefocus, r

bind = $subMod+CTRL, LEFT,  movewindow, l
bind = $subMod+CTRL, DOWN,  movewindow, d
bind = $subMod+CTRL, UP,    movewindow, u
bind = $subMod+CTRL, RIGHT, movewindow, r

bind = $subMod+SHIFT, LEFT,  resizeactive, -20 0
bind = $subMod+SHIFT, DOWN,  resizeactive,  0  20
bind = $subMod+SHIFT, UP,    resizeactive,  0 -20
bind = $subMod+SHIFT, RIGHT, resizeactive,  20 0

# SUB + VIM KEYS
bind = $subMod, H, movefocus, l
bind = $subMod, J, movefocus, d
bind = $subMod, K, movefocus, u
bind = $subMod, L, movefocus, r

bind = $subMod+CTRL, H, movewindow, l
bind = $subMod+CTRL, J, movewindow, d
bind = $subMod+CTRL, K, movewindow, u
bind = $subMod+CTRL, L, movewindow, r

bind = $subMod+SHIFT, H, resizeactive, -20 0
bind = $subMod+SHIFT, J, resizeactive,  0  20
bind = $subMod+SHIFT, K, resizeactive,  0 -20
bind = $subMod+SHIFT, L, resizeactive,  20 0

# SUB + NUMBER
bind = $subMod, 1, workspace, e~1
bind = $subMod, 2, workspace, e~2
bind = $subMod, 3, workspace, e~3
bind = $subMod, 4, workspace, e~4
bind = $subMod, 5, workspace, e~5
bind = $subMod+SHIFT, 1, movetoworkspace, e~1
bind = $subMod+SHIFT, 2, movetoworkspace, e~2
bind = $subMod+SHIFT, 3, movetoworkspace, e~3
bind = $subMod+SHIFT, 4, movetoworkspace, e~4
bind = $subMod+SHIFT, 5, movetoworkspace, e~5

# HYPR + LEFT/RIGHT
bind = $hyprMod, LEFT, workspace, e-1
bind = $hyprMod, RIGHT, workspace, e+1
bind = $hyprMod+SHIFT, LEFT, movetoworkspace, e-1
bind = $hyprMod+SHIFT, RIGHT, movetoworkspace, e+1

# Resize window using Mod Key

# Example special workspace (scratchpad)
# bind = $subMod, S, togglespecialworkspace, magic
# bind = $subMod SHIFT, S, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $subMod, mouse_down, workspace, e+1
bind = $subMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $subMod, mouse:272, movewindow
bindm = $subMod, mouse:273, resizewindow

# Laptop multimedia keys for volume and LCD brightness
# bindle = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
# bindle = ,XF86AudioLowerVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%- && dunstify -h int:value:"$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | awk '{print $2*100}')" "Volume"
# bindle = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+ && dunstify -h int:value:"$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | awk '{print $2*100}')" "Volume"
bindle = ,XF86AudioMute, exec, ~/.config/hypr/scripts/volumecontrol.sh MUTE
bindle = ,XF86AudioLowerVolume, exec, ~/.config/hypr/scripts/volumecontrol.sh DOWN
bindle = ,XF86AudioRaiseVolume, exec, ~/.config/hypr/scripts/volumecontrol.sh UP

bindle = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-
bindle = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindl  = ,XF86TouchpadToggle, exec, notify-send "Please Fix F6"

unbind = ,XF86Launch1
bindle = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Requires playerctl
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous


# WTF
# bindle = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle && dunstify -h string:x-dunst-stack-tag:audio "Mute Toggled"
# bindle = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%- && dunstify -h string:x-dunst-stack-tag:audio -h int:value:"$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | awk '{print $2*100}')" "Volume"
# bindle = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+ && dunstify -h string:x-dunst-stack-tag:audio -h int:value:"$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | awk '{print $2*100}')" "Volume"
# bindle = , XF86MonBrightnessUp, exec, brightnessctl set 5%+ && dunstify -h string:x-dunst-stack-tag:brightness -h int:value:"$(brightnessctl info | grep -oP '\(\K[^%]+')" "Brightness"
# bindle = , XF86MonBrightnessDown, exec, brightnessctl set 5%- && dunstify -h string:x-dunst-stack-tag:brightness -h int:value:"$(brightnessctl info | grep -oP '\(\K[^%]+')" "Brightness"

# bindl = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle && dunstify -u low -t 1000 -r 2593 "Volume" "$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | awk '{printf \"%d%%\", $2*100}') $([ $(wpctl get-volume @DEFAULT_AUDIO_SINK@ | grep MUTED) ] && echo 'Muted' || echo '')"
# bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%- && volume=$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | awk '{printf \"%d\", $2*100}'); dunstify -u low -t 1500 -r 2593 -h int:value:$volume "Volume" "${volume}%"
# bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+ && volume=$(wpctl get-volume @DEFAULT_AUDIO_SINK@ | awk '{printf \"%d\", $2*100}'); dunstify -u low -t 1500 -r 2593 -h int:value:$volume "Volume" "${volume}%"
# bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%- && brightness=$(brightnessctl get | awk '{print $1}' | sed 's/%//'); max=$(brightnessctl max); percent=$((brightness * 100 / max)); dunstify -u low -t 1500 -r 2594 -h int:value:$percent "Brightness" "${percent}%"
# bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+ && brightness=$(brightnessctl get | awk '{print $1}' | sed 's/%//'); max=$(brightnessctl max); percent=$((brightness * 100 / max)); dunstify -u low -t 1500 -r 2594 -h int:value:$percent "Brightness" "${percent}%"
